<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Elijah's Webpage  &mdash; Rescaling Variance of Binned Data </title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="alternate" type="application/atom+xml" title="Elijah's Webpage" href="/feed.xml">
        <!-- Loop and attach page tags from page meta section -->
        
        <meta name="keywords" content="Taurus-California-PerseusResidualsMasking">
        
        <link rel="icon" type="image/png"
            href="/favicon.png">


        <!-- Clicks
        <script
            src="/assets/js/click.js">
        </script>
        -->

        <!-- Custom CSS -->
        <link rel="stylesheet"
            href="/assets/css/main.css">
        <link rel="stylesheet" media="print"
            href="/assets/css/print.css"/>
        <link
            href='http://fonts.googleapis.com/css?family=Poly:400,400italic'
            rel='stylesheet' type='text/css'>

        <!-- JQuery -->
        <script
            src="/assets/js/jquery-1.10.2.js">
        </script>

        <!-- Loading Bar -->
        <script
            src="/assets/js/pace.min.js">
        </script>

        <!-- Owl-carousel -->
        <link rel="stylesheet" href="/plugins/owlcarousel/owl.carousel.min.css">
        <link rel="stylesheet"
            href="/plugins/owlcarousel/owl.theme.default.min.css">

        <!-- Slick Carousel -->
        <link rel="stylesheet" type="text/css"
            href="/plugins_html/slick-1.5.7/slick/slick-theme.css"/>
        <link rel="stylesheet" type="text/css"
            href="/plugins_html/slick-1.5.7/slick/slick.css">
        <script type="text/javascript"
            src="//code.jquery.com/jquery-1.11.0.min.js">
        </script>
        <script type="text/javascript"
            src="//code.jquery.com/jquery-migrate-1.2.1.min.js">
        </script>
        <script type="text/javascript"
            src="/plugins_html/slick-1.5.7/slick/slick.min.js">
        </script>

        <!-- Bootstrap -->
        <link href="css/bootstrap.min.css" rel="stylesheet">

        <!-- Table of Contents -->
        <script
            src="/assets/js/jquery.toc.js">
        </script>

        <!-- Image Zoom -->
        <script
            src="/plugins_html/elevatezoom-master/jquery.elevatezoom.js" 
            type="text/javascript">
        </script>
        
        <!-- JS functions -->
        <script
            type="text/javascript"
            src="/assets/js/application.js">
        </script>

        <!-- Slick Carousel -->
        <script
            type="text/javascript"
            src="/assets/js/image_carousel.js">
        </script>

        <!-- Mathjax -->
        <script 
            type="text/javascript" 
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
        <!-- allow single dollar sign escape for mathjax -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
            tex2jax: {
              inlineMath: [ ['$','$'], ],
              processEscapes: true,
              processEnvironments: true,
            },
            TeX: {
              Macros: {
                nhi : "N(HI)",
                htwo : "H_2",
                in : "^{\\prime\\prime}",
                ft : "^{\\prime}",
                deg : "^\\circ",
              }
            }
          });
        </script>

        <script 
            src="/assets/js/jquery.toc.js">
        </script>


        <!-- Google Analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-67026116-1', 'auto');
          ga('send', 'pageview');
        

        </script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>



<!--
<style>
body { 
  background-padding: 0 !important;
  background-image: url('/images/background.jpg');
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: left;
  background-min-width: 100px;
}
</style>
-->

<main>

<body>
    <!-- <span class="statusbar"></span> -->
    <!-- Wrap all page content here -->
    <div id="wrap">
        <div id="body" class="container">
            <div class="row row-offcanvas row-offcanvas-left">
                <!-- side navigation -->
                <nav id="nav" role="navigation" class="col-sm-2 sidebar-offcanvas">
                    <header id="menu" role="banner">
                        <p class="menu-title">Close</p>
                        <a href="#nav" class="close-btn">
                            <img src="/assets/fonts/close-btn.svg" alt="close button">
                        </a>
                    </header>
                    <ul class="sidebar" >

<!-- sort in alphebetical order -->
    <p class="separator">Navigation</p>
    <li><a href="/">Home</a></li>
    <li><a href="/research_log">Research Log</a></li>
    <li><a href="/hobbies">Hobbies</a></li>
    <li><a href="/contact">Contact</a></li>
    <li><a href="/search">Search</a></li>
    <li><a href="/tags">Tags</a></li>
    
    <a class="goto-top-link hide-on-phone" href="#top">
        <div class="goto-top text-center">
            <i class="fa fa-step-forward fa-rotate-270"></i>
        </div>
    </a>

</ul>
                    
                </nav>

                

                <header id="menu" role="banner">
                    <p class="menu-title">Menu</p>
                    <a href="#nav" class="menu-btn">
                        <img src="/assets/fonts/menu-btn.svg" alt="menu button">
                    </a>
                </header>
                <!-- Content -->
                <div class="col-sm-10">
                    <nav class="top">
                        <a href="/index.html">Blogs, astro, and more &mdash; Elijah's Webpage</a>
                        <span class="pull-right">
                            <a id="twitter-ic" class="link" href="https://twitter.com/ebernste1">
                                <i class="fa fa-twitter fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link" href="https://github.com/ezbc">
                                <i class="fa fa-github-square fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link" href="https://bitbucket.org/ezbc">
                                <i class="fa fa-bitbucket-square fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link"
                                href="https://plus.google.com/+ElijahBernsteinCooper">
                                <i class="fa fa-google-plus fa-lg"></i>
                            </a>
                            <a id="git-ic" class="link"
                                href="https://linkedin.com/in/ElijahBernsteinCooper">
                                <i class="fa fa-linkedin fa-lg"></i>
                            </a>
                            </a>
                            <a id="rss-ic" class="link" href="/feed.xml">
                                <i class="fa fa-rss fa-lg"></i>
                            </a>
                        </span>
                    </nav>
                    <div class="row">
                        <body>
    <div class="col-sm-12">
        <div class="page">
            <div class="page-title">
                Rescaling Variance of Binned Data
                <div class="meta">    			
                    
                    By Elijah Bernstein-Cooper,
                    
                    July 21, 2015,
                    <a href="/research/2015/07/21/Masking/#disqus_thread">0 <i class="fa fa-comments-o fa-lg"></i></a>
                    comments.
                </div>
            </div>
            <div class="page-content">
                <h2 id="omitting-variance-estimation-of-binned-images">Omitting Variance Estimation of Binned Images</h2>

<p>Instead of recalculating the errors from the binned data as outlined in section
3.2.5 in <a href="https://bitbucket.org/ezbc/taurus_paper/raw/66bfa6ded82b8391715f863004f51d20baa102b5/taurus_paper.pdf">the
paper</a>,
we can try using the initial errors estimating in the binned image. The errors
in each bin were added in quadrature. Below are likelihood spaces from
Perseus in the initial MLE, before using the best-fit model to estimate the
variance of the binned image.</p>

<hr />

<p><img src="/images/2015-07-21/perseus_planck_binned_coarseres_likelihood_wd.png" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p><img src="/images/2015-07-21/perseus_planck_binned_coarseres_likelihood_wi.png" style="float: left; width: 48%; margin-right: 1%; margin-bottom: 0.5em;" /></p>

<p>Figure 1. - Perseus likelihoods from Planck data. The likelihood spaces look
quite realistic. The MLE <script type="math/tex">HI</script> width = 13 km/s, DGR <script type="math/tex">= 0.09 \times 10^{-20}</script>
cm<script type="math/tex">^2</script> mag, intercept = <script type="math/tex">0.2</script> mag. The likelihood spaces do not well
represent the MLE of each parameter because each likelihood space is
marginalized over another parameter.</p>

<hr />

<p>The variances of the MLE parameters were unphysically tight in earlier
analysis when we were masking at full resolution, and then binning the unmasked
pixels together. Now we are binning all pixels, and then masking. This allows
for much better estimates of the variance of each binned pixel, because there
are more pixels with errors in each bin.</p>

<h2 id="evaluating-the-fits">Evaluating the Fits</h2>

<p>We can plot <script type="math/tex">A_V</script> vs. <script type="math/tex">N(HI)</script> to examine the distribution of points and the
fitted relationship. I have included the MLE fit as well as a polynomial fit to
the data. We can see for cloud the masking process has successfully masked
outliers which do not follow a linear correlation between <script type="math/tex">A_V</script> and
<script type="math/tex">N(HI)</script>. That is, for the masked data, <script type="math/tex">A_V</script> is linearly dependent on
<script type="math/tex">N(HI)</script>. However, the MLE fit is incorrect, it should agree with the
polynomial fit.</p>

<hr />

<p><img src="/images/2015-07-21/perseus_planck_binned_coarseres_av_vs_nhi_masked.png" style="width:70%;" /></p>

<p><img src="/images/2015-07-21/perseus_planck_binned_coarseres_av_vs_nhi.png" style="width:70%" /></p>

<p>Figure 2. - Perseus <script type="math/tex">A_V</script> vs. <script type="math/tex">N(HI)</script>. The top shows the data points which
the MLE of the parameters were fitted to, i.e., the masked data and
corresponding fit. The bottom shows all the data. Each plot shows the model
line determined by the MLE method, as well as a polynomial fit to the data. The
MLE calculation has the parameter resolution to correctly estimate the
intercept, however is incorrect. This is not consistent.</p>

<hr />

<hr />

<p><img src="/images/2015-07-21/taurus_planck_binned_coarseres_av_vs_nhi_masked.png" style="width:70%" /></p>

<p><img src="/images/2015-07-21/taurus_planck_binned_coarseres_av_vs_nhi.png" style="width:70%" /></p>

<p>Figure 3. - Taurus <script type="math/tex">A_V</script> vs. <script type="math/tex">N(HI)</script>.</p>

<hr />

<hr />

<p><img src="/images/2015-07-21/california_planck_binned_coarseres_av_vs_nhi_masked.png" style="width:70%" /></p>

<p><img src="/images/2015-07-21/california_planck_binned_coarseres_av_vs_nhi.png" style="width:70%" /></p>

<p>Figure 3. - California <script type="math/tex">A_V</script> vs. <script type="math/tex">N(HI)</script>. The MLE fit is so far off that it
doesnâ€™t show.</p>

<hr />

                <!-- Share & Comments -->
                <div class="share">
    <p>Posted:
        <i>
            Tuesday 21 July 2015
        </i>
        <a class="pull-right" href="https://twitter.com/intent/tweet?url=/research/2015/07/21/Masking/&text=Rescaling Variance of Binned Data&via=ebernste1" target="_blank">
            <i class="fa fa-retweet" style="color:red;"></i> Share
        </a>
    </p>
    
       <ul>
           <li>Related:</li>
           <ul>
           
              
                  <li>
                      <a href="/research/2015/11/04/varying-phi-g-in-mc/">Varying Dust Opacity and Gas Temperatures</a>
                  </li>
              
                  <li>
                      <a href="/research/2015/11/01/gas-temperatures/">Gas Temperatures</a>
                  </li>
              
                  <li>
                      <a href="/research/2015/10/22/model-fits/">Addressing Core Variation</a>
                  </li>
              
           </ul>
       </ul>
    
</div>

<div class="comments">
    <div id="disqus_thread"></div>
</div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

            
            </div>
        </div>
    </div>
</body>
        
<!-- Disques -->
<script>
    $(".page-preview-icon").hover(function(){
        $(this).parents(".page-nav").css("z-index","5000");
    });
    
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'httpezbcme'; // required: replace example with your forum shortname

/** Err
var disqus_identifier = '2015-07-21-Masking.md';
var disqus_url = '/research/2015/07/21/Masking/';
**/
   
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();



/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'httpezbcme'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());

</script>


                    </div>
                </div>
            </div>
        </div>
        <footer class="footer text-center meta">
            Powered by <a class="link" href="https://github.com/nadjetey/wangana">Wangana</a> &mdash; Jekyll theme.
        </footer>
    </div>
</body>
</main>
        <!-- Other JavaScripts -->
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/jquery.timeago.js"></script>
        <script>
          (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

ga('create', 'ezbc', 'ezbc');
ga('send', 'pageview');
          $(document).ready(function() {
    var timer;

    $(window).bind('scroll', (function() {
        clearTimeout(timer);
        timer = setTimeout(getPercent, 5);
        isTop();
    }));

    $(".goto-top-link").click(function(){
        event.preventDefault();
        $('html, body').animate({ scrollTop: 0 }, 'slow');
    });
});

function scrollPossition() {
    return ($(window).scrollTop() / ($(document).height() - $(window).height())) * 100;
}

function getPercent() {
    $(".statusbar").css("width", String(scrollPossition()) + "%");

    if (scrollPossition() > 97) {
        $(".statusbar").css("background-color", "#1ca265");
    } else {
        $(".statusbar").css("background-color", "#eb5e29");
    }
    return;
}

function isTop() {
  if(scrollPossition() > 30)
    $(".goto-top").fadeIn("slow");
  else
    $(".goto-top").fadeOut("slow");
}
          $(document).ready(function() {
    $('.menu-btn').click(function() {
        $('.row-offcanvas').toggleClass('active');
    });
    $('.close-btn').click(function() {
        $('.row-offcanvas').toggleClass('active');
    });
});
          jQuery(document).ready(function() {
    jQuery("time.timeago").timeago();
});
        </script>


        <!-- Owl-carousel -->
        <script src="jquery.min.js"></script>
        <script src="owlcarousel/owl.carousel.min.js"></script>

    </body>
</html>



